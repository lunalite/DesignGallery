<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Mobile UI Gallery, a repository of widgets taken from Google Play Store.">
    <meta name="keywords"
          content="mobile, mobile ui, mobile widgets, widget, widgets, mobile application, android, android widget, android widgets, android ui, ui">
    <meta name="author" content="">

    <title><%= title %></title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="stylesheets/style.css" rel="stylesheet">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117332758-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-117332758-2');
    </script>
</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/">Mobile UI Gallery</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/"">Home
                    <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/search">Search</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/contact">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Content -->
<div class="container">
    <h2 class="my-4 text-center text-lg-left">A gallery made for Android developers</h2>
    <div>A collection of more than 30,000 widgets coming from different applications found on the Google Play Store. In
        our repository, we make it simple for developers to use it by providing details of the application screenshot as
        well as a <b>red-box</b> of where the widget is located at. We have several examples of such widgets listed
        below.<br><br>
        <p>To search for more widgets or particular classes, please click on the search button below:</p>
    </div>
    <br>
    <div class="text-center">
        <button type="button" class="btn-lg btn-primary" onclick="location.href='/search'">Search</button>
    </div>

    <hr/>

    <% for (let j = 0; j < chosenArr.length; j++) { %>
    <h3 class="my-4 text-center text-lg-left"><%= chosenArr[j] %></h3>
    <section class="image-grid">

        <% for(let i = 0; i < widgets[chosenArr[j]].length; i++) {
            var btnSize = widgets[chosenArr[j]][i].dimensions['width'] + 'x' + widgets[chosenArr[j]][i].dimensions['height']; %>
        <article class="image__cell is-collapsed">
            <div class="image--basic" style="height:100px">
                <a href="#expand-jump-<%= i %>">
                    <img id="expand-jump-<%= i %>" class="basic__img"
                         src="https://storage.googleapis.com/ui-collection-gcs/widgets/<%= widgets[chosenArr[j]][i].widget_class + '/' + widgets[chosenArr[j]][i].name + '.png' %>"
                         style="max-height:100px;"/>
                </a>
            </div>
            <div class="arrow--up"></div>
            <div class="image--expand">
                <div class="modal-body row">
                    <div class="col-md-5">
                        <% var left = widgets[chosenArr[j]][i].coordinates['from'][0]; %>
                        <% var top = widgets[chosenArr[j]][i].coordinates['from'][1]; %>
                        <% var width = widgets[chosenArr[j]][i].dimensions['width']; %>
                        <% var height = widgets[chosenArr[j]][i].dimensions['height']; %>
                        <div id="highlight-box" style="
                                position:absolute;
                                left:<%= left %>px;
                                top:<%= top %>px;
                                width:<%= width %>px;
                                height:<%= height %>px;
                                ">
                        </div>
                        <img class="image--large"
                                <% var screenSrc = widgets[chosenArr[j]][i].src.split('/') %>
                             src="https://storage.googleapis.com/ui-collection-gcs/<%= screenSrc[3] + '/' + screenSrc[4] + '/' + screenSrc[7] + '.png' %>"
                             style="max-height:640px"/>
                    </div>
                    <div class="col-md-5 align-self-center">
                        <table cellpadding="0" cellspacing="0" border="0" class="app-detail">
                            <tr>
                                <td><b>Application: </b></td>
                                <td><a href="<%= widgets[chosenArr[j]][i].url %>">
                                        <% if (!widgets[chosenArr[j]][i].application_name) { %>
                                        Non-ascii
                                        <% } else { %>
                                        <%= widgets[chosenArr[j]][i].application_name %>
                                        <% } %>
                                    </a></td>
                            </tr>
                            <tr>
                                <td><b>Package: </b></td>
                                <td><%= widgets[chosenArr[j]][i].package_name %></td>
                            </tr>
                            <tr>
                                <td><b>Category:</b></td>
                                <td><%= widgets[chosenArr[j]][i].category %></td>
                            </tr>
                            <tr>
                                <td><b>Text: </b></td>
                                <td><%= widgets[chosenArr[j]][i].text %></td>
                            </tr>
                            <tr>
                                <td><b>Class: </b></td>
                                <td><%= widgets[chosenArr[j]][i].widget_class %></td>
                            </tr>
                            <tr>
                                <td><b>Coordinates:&emsp;</b></td>
                                <td>[<%= widgets[chosenArr[j]][i].coordinates['from'] %>]
                                    [<%= widgets[chosenArr[j]][i].coordinates['to'] %>]
                                </td>
                            </tr>
                            <tr>
                                <td><b>Size:&emsp;</b></td>
                                <td><%= btnSize %></td>
                            </tr>
                            <tr>
                                <td><b>Color: </b></td>
                                <td> <%= widgets[chosenArr[j]][i].color %></td>
                            </tr>
                            <tr>
                                <td><b>Downloads:</b></td>
                                <td><%= widgets[chosenArr[j]][i].downloads %></td>
                            </tr>
                        </table>
                    </div>
                    <div>
                        <a href="#close-jump-' + i + '" class="expand__close"></a>
                    </div>
                </div>
            </div>
        </article>
        <hr>
        <% } %>
    </section>
    <br>
    <% } %>

</div>
<!-- /.container -->
<br>
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Mobile UI Gallery 2018</p>
    </div>
</footer>

<!-- Bootstrap core JavaScript -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

<script src="/javascripts/imageCell.js"></script>
</body>
</html>
